@import 'tailwindcss';

/* ===========================================
   Font Definitions - Self-hosted WOFF2
   =========================================== */

@font-face {
	font-family: 'Abril Fatface';
	src: url('/fonts/abril-fatface-v23-latin-regular.woff2') format('woff2');
	font-weight: 400;
	font-style: normal;
	font-display: swap;
}

@font-face {
	font-family: 'Plus Jakarta Sans';
	src: url('/fonts/plus-jakarta-sans-v12-latin-regular.woff2') format('woff2');
	font-weight: 400;
	font-style: normal;
	font-display: swap;
}

@font-face {
	font-family: 'Plus Jakarta Sans';
	src: url('/fonts/plus-jakarta-sans-v12-latin-500.woff2') format('woff2');
	font-weight: 500;
	font-style: normal;
	font-display: swap;
}

@font-face {
	font-family: 'Plus Jakarta Sans';
	src: url('/fonts/plus-jakarta-sans-v12-latin-600.woff2') format('woff2');
	font-weight: 600;
	font-style: normal;
	font-display: swap;
}

@font-face {
	font-family: 'Plus Jakarta Sans';
	src: url('/fonts/plus-jakarta-sans-v12-latin-700.woff2') format('woff2');
	font-weight: 700;
	font-style: normal;
	font-display: swap;
}

@font-face {
	font-family: 'Kode Mono';
	src: url('/fonts/kode-mono-v3-latin-regular.woff2') format('woff2');
	font-weight: 400;
	font-style: normal;
	font-display: swap;
}

@font-face {
	font-family: 'Kode Mono';
	src: url('/fonts/kode-mono-v3-latin-600.woff2') format('woff2');
	font-weight: 600;
	font-style: normal;
	font-display: swap;
}

/* ===========================================
   CSS Custom Properties - Design Tokens
   =========================================== */

:root {
	/* Capybara Brown Palette */
	--capybara-50: oklch(0.97 0.01 55);
	--capybara-100: oklch(0.93 0.02 55);
	--capybara-200: oklch(0.86 0.04 50);
	--capybara-300: oklch(0.76 0.07 48);
	--capybara-400: oklch(0.65 0.1 45);
	--capybara-500: oklch(0.55 0.11 42);
	--capybara-600: oklch(0.47 0.1 40);
	--capybara-700: oklch(0.4 0.09 38);
	--capybara-800: oklch(0.33 0.07 36);
	--capybara-900: oklch(0.26 0.05 35);
	--capybara-950: oklch(0.18 0.03 34);

	/* Semantic Colors - Light Mode (Warm Cream Theme) */
	--background: oklch(0.94 0.018 58);
	--foreground: oklch(0.22 0.035 42);
	--card: oklch(0.995 0.005 55);
	--card-foreground: oklch(0.22 0.035 42);
	--popover: oklch(0.995 0.005 55);
	--popover-foreground: oklch(0.22 0.035 42);
	--primary: oklch(0.45 0.11 40);
	--primary-foreground: oklch(0.98 0.008 55);
	--secondary: oklch(0.92 0.02 55);
	--secondary-foreground: oklch(0.28 0.04 42);
	--muted: oklch(0.91 0.022 55);
	--muted-foreground: oklch(0.42 0.035 45);
	--accent: oklch(0.89 0.028 52);
	--accent-foreground: oklch(0.28 0.04 42);
	--destructive: oklch(0.55 0.22 25);
	--destructive-foreground: oklch(0.98 0.01 25);
	--border: oklch(0.82 0.03 48);
	--input: oklch(0.86 0.025 52);
	--ring: oklch(0.55 0.11 42);
	--success: oklch(0.62 0.16 148);
	--success-foreground: oklch(0.98 0.02 145);
	--warning: oklch(0.78 0.16 78);
	--warning-foreground: oklch(0.28 0.06 68);
	--info: oklch(0.58 0.14 238);
	--info-foreground: oklch(0.98 0.02 240);
	--radius: 0.5rem;

	/* Sidebar */
	--sidebar: oklch(0.93 0.018 55);
	--sidebar-foreground: oklch(0.22 0.035 42);
	--sidebar-primary: oklch(0.45 0.11 40);
	--sidebar-primary-foreground: oklch(0.98 0.008 55);
	--sidebar-accent: oklch(0.89 0.028 52);
	--sidebar-accent-foreground: oklch(0.28 0.04 42);
	--sidebar-border: oklch(0.82 0.03 48);
	--sidebar-ring: oklch(0.55 0.11 42);

	/* Light mode card shadow */
	--card-shadow: 0 1px 3px oklch(0.4 0.05 45 / 0.08), 0 2px 8px oklch(0.4 0.05 45 / 0.06);
}

.dark {
	/* Improved dark mode with better text contrast */
	--background: oklch(0.14 0.012 45);
	--foreground: oklch(0.95 0.01 55);
	--card: oklch(0.18 0.012 45);
	--card-foreground: oklch(0.95 0.01 55);
	--card-shadow: 0 1px 3px oklch(0 0 0 / 0.25), 0 2px 8px oklch(0 0 0 / 0.2);
	--popover: oklch(0.2 0.012 45);
	--popover-foreground: oklch(0.95 0.01 55);
	--primary: oklch(0.75 0.1 48);
	--primary-foreground: oklch(0.12 0.015 45);
	--secondary: oklch(0.24 0.012 45);
	--secondary-foreground: oklch(0.95 0.01 55);
	--muted: oklch(0.24 0.012 45);
	--muted-foreground: oklch(0.75 0.02 52);
	--accent: oklch(0.28 0.02 45);
	--accent-foreground: oklch(0.95 0.01 55);
	--destructive: oklch(0.65 0.2 22);
	--destructive-foreground: oklch(0.98 0.01 25);
	--border: oklch(1 0 0 / 12%);
	--input: oklch(1 0 0 / 15%);
	--ring: oklch(0.75 0.1 48);
	--success: oklch(0.72 0.15 150);
	--success-foreground: oklch(0.15 0.03 150);
	--warning: oklch(0.78 0.14 75);
	--warning-foreground: oklch(0.2 0.04 70);
	--info: oklch(0.7 0.12 245);
	--info-foreground: oklch(0.15 0.03 245);

	/* Sidebar */
	--sidebar: oklch(0.16 0.012 45);
	--sidebar-foreground: oklch(0.95 0.01 55);
	--sidebar-primary: oklch(0.75 0.1 48);
	--sidebar-primary-foreground: oklch(0.12 0.015 45);
	--sidebar-accent: oklch(0.24 0.012 45);
	--sidebar-accent-foreground: oklch(0.95 0.01 55);
	--sidebar-border: oklch(1 0 0 / 12%);
	--sidebar-ring: oklch(0.75 0.1 48);
}

/* ===========================================
   Tailwind Theme Extension
   =========================================== */

@theme inline {
	/* Font Families */
	--font-display: 'Abril Fatface', Georgia, 'Times New Roman', serif;
	--font-sans: 'Plus Jakarta Sans', ui-sans-serif, system-ui, sans-serif;
	--font-mono: 'Kode Mono', ui-monospace, 'SF Mono', Menlo, monospace;

	/* Colors */
	--color-background: var(--background);
	--color-foreground: var(--foreground);
	--color-card: var(--card);
	--color-card-foreground: var(--card-foreground);
	--color-popover: var(--popover);
	--color-popover-foreground: var(--popover-foreground);
	--color-primary: var(--primary);
	--color-primary-foreground: var(--primary-foreground);
	--color-secondary: var(--secondary);
	--color-secondary-foreground: var(--secondary-foreground);
	--color-muted: var(--muted);
	--color-muted-foreground: var(--muted-foreground);
	--color-accent: var(--accent);
	--color-accent-foreground: var(--accent-foreground);
	--color-destructive: var(--destructive);
	--color-destructive-foreground: var(--destructive-foreground);
	--color-border: var(--border);
	--color-input: var(--input);
	--color-ring: var(--ring);
	--color-success: var(--success);
	--color-warning: var(--warning);
	--color-info: var(--info);

	/* Capybara Brown Palette */
	--color-capybara-50: var(--capybara-50);
	--color-capybara-100: var(--capybara-100);
	--color-capybara-200: var(--capybara-200);
	--color-capybara-300: var(--capybara-300);
	--color-capybara-400: var(--capybara-400);
	--color-capybara-500: var(--capybara-500);
	--color-capybara-600: var(--capybara-600);
	--color-capybara-700: var(--capybara-700);
	--color-capybara-800: var(--capybara-800);
	--color-capybara-900: var(--capybara-900);
	--color-capybara-950: var(--capybara-950);

	/* Sidebar */
	--color-sidebar: var(--sidebar);
	--color-sidebar-foreground: var(--sidebar-foreground);
	--color-sidebar-primary: var(--sidebar-primary);
	--color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
	--color-sidebar-accent: var(--sidebar-accent);
	--color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
	--color-sidebar-border: var(--sidebar-border);
	--color-sidebar-ring: var(--sidebar-ring);

	/* Border Radius */
	--radius-sm: calc(var(--radius) - 4px);
	--radius-md: var(--radius);
	--radius-lg: calc(var(--radius) + 4px);
	--radius-xl: calc(var(--radius) + 8px);
}

/* ===========================================
   Base Styles
   =========================================== */

@layer base {
	*,
	*::before,
	*::after {
		border-color: var(--border);
	}

	html {
		font-family: var(--font-sans);
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
	}

	body {
		background-color: var(--background);
		color: var(--foreground);
	}
}

/* ===========================================
   Utility Classes
   =========================================== */

@layer utilities {
	/* Display Typography */
	.display-xl {
		font-family: var(--font-display);
		font-size: 4.5rem;
		line-height: 1;
		letter-spacing: -0.025em;
	}

	.display-lg {
		font-family: var(--font-display);
		font-size: 3.75rem;
		line-height: 1.1;
		letter-spacing: -0.025em;
	}

	.display-md {
		font-family: var(--font-display);
		font-size: 3rem;
		line-height: 1.15;
	}

	.display-sm {
		font-family: var(--font-display);
		font-size: 2.25rem;
		line-height: 1.2;
	}

	/* Container */
	.container {
		width: 100%;
		margin-left: auto;
		margin-right: auto;
		padding-left: 1rem;
		padding-right: 1rem;
	}

	@media (min-width: 640px) {
		.container {
			max-width: 640px;
		}
	}

	@media (min-width: 768px) {
		.container {
			max-width: 768px;
		}
	}

	@media (min-width: 1024px) {
		.container {
			max-width: 1024px;
			padding-left: 2rem;
			padding-right: 2rem;
		}
	}

	@media (min-width: 1280px) {
		.container {
			max-width: 1280px;
		}
	}

	/* Focus Ring */
	.focus-ring {
		outline: none;
	}

	.focus-ring:focus-visible {
		outline: 2px solid var(--ring);
		outline-offset: 2px;
	}

	/* Hover Lift Effect */
	.hover-lift {
		transition:
			transform 200ms ease-out,
			box-shadow 200ms ease-out;
	}

	.hover-lift:hover {
		transform: translateY(-2px);
		box-shadow: 0 4px 12px oklch(0.4 0.05 42 / 0.12);
	}

	.dark .hover-lift:hover {
		box-shadow: 0 4px 12px oklch(0 0 0 / 0.25);
	}

	/* Light mode card enhancement */
	.card-elevated {
		box-shadow:
			0 1px 2px oklch(0.4 0.04 45 / 0.06),
			0 2px 4px oklch(0.4 0.04 45 / 0.04);
	}

	.dark .card-elevated {
		box-shadow:
			0 1px 2px oklch(0 0 0 / 0.2),
			0 2px 4px oklch(0 0 0 / 0.15);
	}
}

/* ===========================================
   Prose Styles for Documentation
   =========================================== */

@layer components {
	.prose {
		font-size: 1.0625rem;
		line-height: 1.8;
		color: var(--foreground);
	}

	.prose :where(h1, h2, h3, h4, h5, h6) {
		font-weight: 600;
		line-height: 1.3;
		margin-top: 2em;
		margin-bottom: 0.75em;
		scroll-margin-top: 5rem;
	}

	.prose :where(h1) {
		font-family: var(--font-display);
		font-size: 2.25rem;
		margin-top: 0;
	}

	/* Hide first h1 in docs since it's shown in the page header */
	.prose > h1:first-child {
		display: none;
	}

	.prose :where(h2) {
		font-family: var(--font-display);
		font-size: 1.75rem;
		font-weight: 400;
		padding-bottom: 0.5rem;
		border-bottom: 1px solid var(--border);
	}

	.prose :where(h3) {
		font-size: 1.25rem;
	}

	.prose :where(h4) {
		font-size: 1.125rem;
	}

	.prose :where(p) {
		margin-bottom: 1.25em;
	}

	.prose :where(a) {
		color: var(--primary);
		text-decoration: underline;
		text-underline-offset: 2px;
		transition: color 0.15s;
	}

	.prose :where(a):hover {
		color: var(--capybara-600);
	}

	.prose :where(strong) {
		font-weight: 600;
	}

	.prose :where(ul, ol) {
		margin-bottom: 1.25em;
		padding-left: 1.5em;
	}

	.prose :where(li) {
		margin-bottom: 0.5em;
	}

	.prose :where(li)::marker {
		color: var(--muted-foreground);
	}

	.prose :where(code):not(pre code) {
		font-family: var(--font-mono);
		font-size: 0.875em;
		padding: 0.125rem 0.375rem;
		background: var(--muted);
		border-radius: 4px;
		color: var(--capybara-700);
	}

	.dark .prose :where(code):not(pre code) {
		color: var(--capybara-300);
		background: oklch(0.22 0.015 45);
	}

	.dark .prose :where(a) {
		color: oklch(0.78 0.1 48);
	}

	.dark .prose :where(a):hover {
		color: oklch(0.85 0.08 50);
	}

	.dark .prose :where(strong) {
		color: oklch(0.97 0.01 55);
	}

	.dark .prose :where(h1, h2, h3, h4, h5, h6) {
		color: oklch(0.97 0.01 55);
	}

	.prose :where(pre) {
		margin: 1.5rem 0;
		padding: 1rem;
		overflow-x: auto;
		font-family: var(--font-mono);
		font-size: 0.875rem;
		line-height: 1.7;
		background: var(--capybara-50);
		border-radius: var(--radius-lg);
	}

	.dark .prose :where(pre) {
		background: oklch(0.12 0.01 45);
		border: 1px solid oklch(1 0 0 / 10%);
	}

	.dark .prose :where(pre code) {
		color: oklch(0.9 0.02 55);
	}

	/* Dark mode syntax highlighting overrides */
	.dark .prose :where(pre) :where(.keyword, .tag, .selector) {
		color: oklch(0.75 0.12 320);
	}

	.dark .prose :where(pre) :where(.string, .attr-value) {
		color: oklch(0.78 0.12 140);
	}

	.dark .prose :where(pre) :where(.comment) {
		color: oklch(0.6 0.02 55);
	}

	.dark .prose :where(pre) :where(.function, .attr-name) {
		color: oklch(0.8 0.1 220);
	}

	.dark .prose :where(pre) :where(.number, .boolean) {
		color: oklch(0.8 0.12 60);
	}

	.dark .prose :where(pre) :where(.property, .variable) {
		color: oklch(0.85 0.08 30);
	}

	.dark .prose :where(pre) :where(.punctuation, .operator) {
		color: oklch(0.75 0.02 55);
	}

	.prose :where(hr) {
		margin: 2rem 0;
		border: none;
		border-top: 1px solid var(--border);
	}

	.prose :where(blockquote) {
		margin: 1.5rem 0;
		padding: 0.75rem 1rem;
		border-left: 4px solid var(--border);
		background: var(--muted);
		border-radius: 0 var(--radius) var(--radius) 0;
	}

	.prose :where(blockquote p) {
		margin: 0;
	}

	.dark .prose :where(blockquote) {
		background: oklch(0.18 0.012 45);
		border-left-color: oklch(0.65 0.08 48);
	}

	.prose :where(table) {
		width: 100%;
		margin: 1.5rem 0;
		border-collapse: collapse;
		font-size: 0.9375rem;
	}

	.prose :where(th, td) {
		padding: 0.75rem 1rem;
		text-align: left;
		border-bottom: 1px solid var(--border);
	}

	.prose :where(th) {
		font-weight: 600;
		background: var(--muted);
	}

	.prose :where(tr):hover {
		background: var(--accent);
	}

	.dark .prose :where(th) {
		background: oklch(0.2 0.012 45);
	}

	.dark .prose :where(li)::marker {
		color: oklch(0.7 0.06 50);
	}

	.prose :where(img) {
		max-width: 100%;
		height: auto;
		border-radius: var(--radius);
	}

	/* Heading anchor links */
	.prose :where(h2, h3, h4)[id] {
		position: relative;
	}

	.prose :where(h2, h3, h4)[id]:hover::before {
		content: '#';
		position: absolute;
		left: -1.5rem;
		color: var(--muted-foreground);
		font-weight: 400;
	}

	.dark .prose :where(h2, h3, h4)[id]:hover::before {
		color: oklch(0.7 0.06 50);
	}
}

